# 1 nuhup 和 *

[(1条消息) Linux下的&和nohup命令_vivianXuejun的博客-CSDN博客](https://blog.csdn.net/vivianXuejun/article/details/80157656)

后台启动： nohup sh zipkin-start.sh &

 

# 2 crond 系统定时任务

## 2.1 **crond 服务管理**

1．重新启动crond服务

[root@hadoop101 ~]# service crond restart

## 2.2 **crontab 定时任务设置**

### 2.2.1 基本语法

1．基本语法

crontab [选项]

2．选项说明

| 选项 | 功能                          |
| ---- | ----------------------------- |
| -e   | 编辑crontab定时任务           |
| -l   | 查询crontab任务               |
| -r   | 删除当前用户所有的crontab任务 |

 

### 2.2.2 参数说明

3．参数说明

[root@hadoop101 ~]# crontab -e 

（1）进入crontab编辑界面。会打开vim编辑你的工作。

\* * * * * 执行的任务

| 项目      | 含义                 | 范围                    |
| --------- | -------------------- | ----------------------- |
| 第一个“*” | 一小时当中的第几分钟 | 0-59                    |
| 第二个“*” | 一天当中的第几小时   | 0-23                    |
| 第三个“*” | 一个月当中的第几天   | 1-31                    |
| 第四个“*” | 一年当中的第几月     | 1-12                    |
| 第五个“*” | 一周当中的星期几     | 0-7（0和7都代表星期日） |

（2）特殊符号

| 特殊符号 | 含义                                                         |
| -------- | ------------------------------------------------------------ |
| *        | 代表任何时间。比如第一个“*”就代表一小时中每分钟都执行一次的意思。 |
| ，       | 代表不连续的时间。比如“0 8,12,16 * * * 命令”，就代表在每天的8点0分，12点0分，16点0分都执行一次命令 |
| -        | 代表连续的时间范围。比如“0 5  *  *  1-6命令”，代表在周一到周六的凌晨5点0分执行命令 |
| */n      | 代表每隔多久执行一次。比如“*/10  *  *  *  *  命令”，代表每隔10分钟就执行一遍命令 |

（3）特定时间执行命令

| 时间              | 含义                                                         |
| ----------------- | ------------------------------------------------------------ |
| 45 22 * * * 命令  | 在22点45分执行命令                                           |
| 0 17 * * 1 命令   | 每周1 的17点0分执行命令                                      |
| 0 5 1,15 * * 命令 | 每月1号和15号的凌晨5点0分执行命令                            |
| 40 4 * * 1-5 命令 | 每周一到周五的凌晨4点40分执行命令                            |
| */10 4 * * * 命令 | 每天的凌晨4点，每隔10分钟执行一次命令                        |
| 0 0 1,15 * 1 命令 | 每月1号和15号，每周1的0点0分都会执行命令。注意：星期几和几号最好不要同时出现，因为他们定义的都是天。非常容易让管理员混乱。 |

### 2.2.3 案例实操

​	（1）每隔1分钟，向/root/bailongma.txt文件中添加一个11的数字

*/1 * * * * /bin/echo ”11” >> /root/bailongma.txt



## 2.3 **Mysql 备份脚本追日期日志**

支持mysqldump命令，输入日期日志 

```
0 4 * * * nohup ~/data/back.sh >> ~/data/mysql_logs_`date +\%Y-\%m-\%d\%H:\%M:\%S").out  2>&1
```

[nohup 日志按天输出 - 寒江——独钓 - 博客园 (cnblogs.com)](https://www.cnblogs.com/jin-521/p/11417505.html)



## 2.4 普通用户使用crontab

[Linux下普通用户无法直接使用crontab问题 (hqew.com)](https://tech.hqew.com/news_1527951)



 

 

 

 

 

 

 